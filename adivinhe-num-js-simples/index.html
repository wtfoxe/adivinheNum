<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title>Acerte a bola</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<h1>Adivinhe qual a bola certa</h1>

	<p>Cada bola equivale a um numero (1,2,3) respectivamente. Qual é a bola certa?</p>

	<div class="container-circulo">
		<p class="circulo v">1</p>
		<p class="circulo az">2</p>
		<p class="circulo am">3</p>
	</div>

	<label for="campoNum">Escolha uma bola: </label>
	<input type="text" id="campoNum" class="campoNum">
	<input type="submit" class="enviarNum">

	<div>
		<p class="resultado"></p>
	</div>
</body>

<script type="text/javascript">
	//sorteia um numero aleatorio entre 1 e 3
	var resposta = Math.floor(Math.random() * 3 + 1);
	console.log(resposta)

	var campoNum = document.querySelector('.campoNum')
	var enviarNum = document.querySelector('.enviarNum')
	var resultado = document.querySelector('.resultado')
	var botaoReinicio;

	campoNum.focus()
	
	//confere se o numero digitado é igual ao sorteado//
	function conferirNum(){
		var numUsuario = Number(campoNum.value);
		if (numUsuario === resposta){
			resultado.textContent = 'Parabéns! Você acertou!';
			resultado.style.backgroundColor = 'green';
			fimDeJogo();
		} else {
			resultado.textContent = 'Você errou!!! Fim de jogo..... o circulo certo é o ' + resposta;
			resultado.style.backgroundColor = 'red';
			fimDeJogo();
		}
	}
	enviarNum.addEventListener('click',conferirNum)

	function fimDeJogo(){
		//desabilita o campo de texto e o botao
		campoNum.disabled = true;
		enviarNum.disabled = true;

		//cria botao de reiniciar o jogo//
		botaoReinicio = document.createElement('button');
		botaoReinicio.textContent = 'reiniciar';
		document.body.appendChild(botaoReinicio);

		botaoReinicio.addEventListener('click', reiniciarJogo);
	}

	function reiniciarJogo(){
		botaoReinicio.parentNode.removeChild(botaoReinicio);
		//reativa a caixa de texto e o botao//
		campoNum.disabled = false;
    	enviarNum.disabled = false;
    	campoNum.value = '';
    	campoNum.focus();

    	//limpa o resultado//
    	resultado.style.backgroundColor = 'white';
    	resultado.textContent = '';

    	//cria outra resposta//
    	resposta = Math.floor(Math.random() *3 + 1);
	}

	</script>
</html>